@startuml updateTopic

actor Teacher
participant "TopicServiceImpl" as TopicService
participant "BaseServiceImpl" as BaseService
participant "TopicRepository" as Repository


== Lược đồ tuần tự chức năng chỉnh sửa chủ đề ==
Teacher -> TopicService: update(dto, id)
activate TopicService

TopicService -> BaseService: update(dto, id) << Inherited from Parent >>
activate BaseService

BaseService -> BaseService: isExist(id)
BaseService -> TopicService: convertToEntity(dto) << Overridden >>
activate TopicService
TopicService -> TopicService: convertToEntity(dto)
TopicService --> BaseService: Converted Entity
deactivate TopicService

BaseService -> Repository: save(entity)
activate Repository
Repository --> BaseService: Updated Entity
deactivate Repository

BaseService -> TopicService: convertToDTO(updatedEntity) << Overridden >>
activate TopicService
TopicService -> TopicService: convertToDTO(updatedEntity)
TopicService --> BaseService: Converted DTO
deactivate TopicService

BaseService --> TopicService: Updated DTO
deactivate BaseService

TopicService --> Teacher: Updated DTO
deactivate TopicService

@enduml
