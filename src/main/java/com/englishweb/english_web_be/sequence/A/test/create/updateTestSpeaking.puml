@startuml updateTestSpeaking
actor Teacher
participant "TestSpeakingServiceImpl" as TestSpeakingService
participant "BaseServiceImpl" as BaseService
participant "TestSpeakingRepository" as Repository

== Lược đồ tuần tự chức năng chỉnh sửa bài kiểm tra nói ==
Teacher -> TestSpeakingService: update(dto, id)
activate TestSpeakingService

TestSpeakingService -> BaseService: update(dto, id) << Inherited from Parent >>
activate BaseService

BaseService -> BaseService: isExist(id)
BaseService -> TestSpeakingService: convertToEntity(dto) << Overridden >>
activate TestSpeakingService
TestSpeakingService --> BaseService: TestSpeakingEntity
deactivate TestSpeakingService

BaseService -> Repository: save(entity)
activate Repository
Repository --> BaseService: Updated Entity
deactivate Repository

BaseService -> TestSpeakingService: convertToDTO(updatedEntity) << Overridden >>
activate TestSpeakingService
TestSpeakingService --> BaseService: TestSpeakingDTO
deactivate TestSpeakingService

BaseService --> TestSpeakingService: Updated DTO
deactivate BaseService

TestSpeakingService --> Teacher: Updated DTO
deactivate TestSpeakingService

@enduml
