@startuml FindAllByGrammarId

actor User
participant "GrammarQuestionServiceImpl" as GQS
participant "GrammarQuestionRepository" as GQR
participant "GrammarServiceImpl" as GS
participant "BaseServiceImpl" as BSI

== Find All Grammar Questions by Grammar ID ==
User -> GQS: findAllByGrammarId(grammarId)
activate GQS

GQS -> GS: isExist(grammarId)
activate GS
GS --> GQS: Grammar exists
deactivate GS

GQS -> GQR: Find questions by grammarId
activate GQR
GQR --> GQS: List of GrammarQuestion entities
deactivate GQR

loop Convert each entity to DTO
    GQS -> BSI: Call super.convertToDTO(entity)
    note right: convertToDTO được định nghĩa trong BaseServiceImpl\nvà triển khai trong GrammarQuestionServiceImpl
end

GQS --> User: Return list of GrammarQuestionDTO
deactivate GQS

@enduml
